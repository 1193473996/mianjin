# JUC
## volatile
1、写volatile变量会强制写回主存
2、读volatile变量会清除线程缓存，强制到主存读取
3、禁止重排序
原理为内存屏障：是一个同步点，使同步点前的所有读写操作都执行完成后才执行此点之后的操作，并且操作之前的写操作都会写回主存
读屏障：读指令之前，让工作内存缓存失效；
写屏障：写指令之后，工作内存写回主存；
底层Unsafe.class
loadload：读1读2间，保证读1后再读2
loadstore：读1写2，写2前保证读1已完成
storestore：写1写2，写2前保证写1完成
storeload：写1读2，读2前保证写1完成


